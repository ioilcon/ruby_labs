# 5, 7, 14

# 5

def string_shuffle(str)
    str.chars.shuffle()*""
end

# 7
# ! str.delete!("^a-z") == str.reverse()

def is_downcase_palindrome?(str)
    lambda{ |str| str == str.reverse()}.(str.delete("^a-z"))
end

# 14

def sort_by_length(str)
    (str.split().sort_by {|word| word.length()})*" "
end

functions = [
    'puts("Перемешанная строка:")
     puts(string_shuffle(str))',
    'puts("Образуют ли прописные символы палиндром?")
     puts(is_downcase_palindrome?(str))',
    'puts("Отсортированная строка:")
     puts(sort_by_length(str))'
]

begin
    func_choice = Integer(ARGV[0])
    input_choice = ARGV[1]
    input_file_name = ARGV[2]
    ARGV.clear()
    if (func_choice >= 1 && func_choice <= 3) then
        case
        when input_choice == "-k"
            puts("введите строку:")
            str = gets.chomp()
        when input_choice == "-f" 
            input = File.new(input_file_name + ".txt")
            str = input.readline.chomp()
        else
            puts("мысли я не читаю")
        end

        eval(functions[func_choice - 1])
    
    else
        puts("hello world")
    end
    rescue
        puts("hello world")
end
